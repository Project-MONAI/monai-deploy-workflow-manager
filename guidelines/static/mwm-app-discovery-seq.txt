# Created at https://sequencediagram.org/
title App Discovery API

participant "MONAI CLI" as CLI
participant "Data Discovery API" as API
database "MWM Database" as DB

group AppDiscovery.Register API [Register a new ruleset]
CLI->API: POST /datadiscovery
activate CLI
activate API
API->API: Validate
API->DB: Save
CLI<--API: Response
deactivate API
deactivate CLI
end

group AppDiscovery.Update API [Update a new ruleset]
CLI->API: PATCH /datadiscovery
activate CLI
activate API
API->API: Validate
API->DB: Save
CLI<--API: Response
deactivate API
deactivate CLI
end

group AppDiscovery.Delete API [Delete a ruleset]
CLI->API: DELETE /datadiscovery/{id}
activate CLI
activate API
API->DB: Delete
CLI<--API: Response
deactivate API
deactivate CLI
end

group AppDiscovery.List API [List all rulesets]
CLI->API: GET /datadiscovery
activate CLI
activate API
API->DB: Load
CLI<--API: Response
deactivate API
deactivate CLI
end

group AppDiscovery.Get API [Get details of a ruleset]
CLI->API: GET /datadiscovery/{id}
activate CLI
activate API
API->DB: Load
CLI<--API: Response
deactivate API
deactivate CLI
end

group AppDiscovery.Connect API [Connect ruleset to an application]
CLI->API: POST /datadiscovery/{id}/connect
activate CLI
activate API
API->API: Validate
API->DB: Save
CLI<--API: Response
deactivate API
deactivate CLI
end

group AppDiscovery.Disconnect API [Disconnect ruleset to an application]
CLI->API: DELETE /datadiscovery/{id}/disconnect
activate CLI
activate API
API->API: Validate
API->DB: Save
CLI<--API: Response
deactivate API
deactivate CLI
end
